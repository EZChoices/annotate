/* Mobile-first layout */
:root{ --bg:#f8f8f8; --fg:#222; --card:#fff; --muted:#666; --accent:#2b7cff; --danger:#cc3344; --border:#ddd; --video-height:202px }
:root.dark{ --bg:#101010; --fg:#eee; --card:#181818; --muted:#aaa; --accent:#6aa4ff; --danger:#ff5566; --border:#333 }
body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:var(--bg); color:var(--fg) }
.container{ padding-left:1rem; padding-right:1rem; padding-top:calc(var(--video-height) + 1rem); padding-bottom:8vh }
.topbar{ position:sticky; top:0; z-index:10; display:flex; justify-content:space-between; align-items:center; padding:.6rem .9rem; background:var(--card); border-bottom:1px solid var(--border) }
.topbar .actions button{ margin-left:.5rem }
.player-sticky{
  position:fixed;
  top:0;
  left:50%;
  transform:translateX(-50%);
  z-index:1000;
  background:var(--card);
  border-bottom:1px solid var(--border);
  width:100%;
  max-width:360px;
  height:202px; /* 16:9 aspect ratio */
}
video{ width:100%; height:100%; display:block; background:#000 }

#video-wrapper{
  margin:0 auto;
  width:100%;
  max-width:360px;
  height:202px;
}
#video-wrapper video{
  width:100%;
  height:100%;
}
#video-wrapper button{
  position:absolute;
  top:.25rem;
  right:.25rem;
  background:var(--card);
  border:none;
  cursor:pointer;
}
#video-wrapper.hidden{ display:none }
.error{ color:#fff; background:#c33; padding:.5rem; font-size:.9rem }
.progress{ padding:.6rem .9rem }
.clip-info{ font-size:.9rem; color:var(--muted) }
.bar{ width:100%; height:6px; background:var(--border); border-radius:6px; overflow:hidden; margin-top:.4rem }
.bar #barFill{ height:100%; width:0%; background:var(--accent) }
.questions{ padding: .6rem .9rem; display:block }
.card{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:.9rem; margin-bottom:.8rem }
.q-title{ font-size:1rem; margin-bottom:.6rem }
.btns{ display:flex; flex-wrap:wrap; gap:.5rem }
.btn{ flex:1 1 calc(50% - .5rem); padding:.8rem 1rem; border:1px solid var(--border); background:var(--card); color:var(--fg); border-radius:10px; font-size:1rem }
.btn.selected{ outline:2px solid var(--accent) }
.btn.full{ flex-basis:100% }
.btn.small{ padding:.6rem .8rem; font-size:.95rem }
.taglist{ display:flex; flex-wrap:wrap; gap:.4rem }
.tag{ padding:.35rem .6rem; border:1px solid var(--border); border-radius:999px; font-size:.9rem }
.input-note{ width:100%; padding:.7rem .9rem; font-size:1rem; border:1px solid var(--border); border-radius:10px; background:var(--card); color:var(--fg) }
.bottombar{ position:sticky; bottom:0; display:flex; gap:.5rem; padding:.6rem .9rem; background:var(--card); border-top:1px solid var(--border) }
.primary{ background:var(--accent); color:#fff; border:none; border-radius:10px; padding:.9rem 1rem; flex:2 }
.secondary{ background:var(--card); color:var(--fg); border:1px solid var(--border); border-radius:10px; padding:.9rem 1rem; flex:1 }
.flag{ background:var(--danger); color:#fff; border:none; border-radius:10px; padding:.9rem 1rem; flex:1 }
/* Larger tap targets */
button{ -webkit-tap-highlight-color:transparent }
/* Timeline */
.tl{ position:relative; height:32px; background:var(--card); border:1px solid var(--border); border-radius:6px; overflow:hidden }
.tl-seg{ position:absolute; top:0; bottom:0; background:rgba(43,124,255,0.15); border-left:1px solid var(--accent); border-right:1px solid var(--accent) }
.tl-handle{ position:absolute; right:-6px; top:0; bottom:0; width:12px; cursor:col-resize; background:rgba(43,124,255,0.3) }
/* Enhancements for wider screens */
@media (min-width:600px){
  .container{ padding:220px 2rem 120px }
  .q-title{ font-size:1.1rem }
  .btn{ flex:1 1 calc(33.333% - .5rem); padding:1rem 1.2rem; font-size:1.05rem }
  .input-note{ font-size:1.05rem; padding:.8rem 1.1rem }
}
@media (min-width:900px){
  .container{ padding:220px 3rem 120px }
  .q-title{ font-size:1.2rem }
  .btn{ flex:1 1 calc(25% - .5rem); padding:1.2rem 1.4rem; font-size:1.1rem }
  .input-note{ font-size:1.1rem; padding:1rem 1.2rem }
}
